<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Node State Diagrams &#8212; PLEXIL  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d7e2fa82" />
    <link rel="stylesheet" type="text/css" href="../_static/readable.css?v=e058d051" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Example Plans" href="ExamplePlans.html" />
    <link rel="prev" title="PLEXIL-4 Release Notes" href="../ReleaseNotes/PLEXIL4ReleaseNotes.html" />
   
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
  
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ExamplePlans.html" title="Example Plans"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../ReleaseNotes/PLEXIL4ReleaseNotes.html" title="PLEXIL-4 Release Notes"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PLEXIL  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Node State Diagrams</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="node-state-diagrams">
<span id="nodestatediagrams"></span><h1><a class="toc-backref" href="#id21" role="doc-backlink">Node State Diagrams</a><a class="headerlink" href="#node-state-diagrams" title="Link to this heading">¶</a></h1>
<p><em>19 Mar 2024</em></p>
<p>These illustrations describe the node state transition semantics of
<em>PLEXIL</em> nodes for PLEXIL releases 4.x.</p>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#node-state-diagrams" id="id21">Node State Diagrams</a></p>
<ul>
<li><p><a class="reference internal" href="#inactive-state" id="id22">INACTIVE state</a></p></li>
<li><p><a class="reference internal" href="#waiting-state" id="id23">WAITING state</a></p></li>
<li><p><a class="reference internal" href="#executing-state" id="id24">EXECUTING state</a></p>
<ul>
<li><p><a class="reference internal" href="#executing-empty-nodes" id="id25">EXECUTING - Empty nodes</a></p></li>
<li><p><a class="reference internal" href="#executing-assignment-nodes" id="id26">EXECUTING - Assignment nodes</a></p></li>
<li><p><a class="reference internal" href="#executing-command-nodes" id="id27">EXECUTING - Command nodes</a></p></li>
<li><p><a class="reference internal" href="#executing-update-nodes" id="id28">EXECUTING - Update nodes</a></p></li>
<li><p><a class="reference internal" href="#executing-nodelist-and-librarynodecall-nodes" id="id29">EXECUTING - NodeList and LibraryNodeCall nodes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#finishing-state" id="id30">FINISHING state</a></p>
<ul>
<li><p><a class="reference internal" href="#finishing-command-nodes" id="id31">FINISHING - Command nodes</a></p></li>
<li><p><a class="reference internal" href="#finishing-nodelist-and-librarynodecall-nodes" id="id32">FINISHING - NodeList and LibraryNodeCall nodes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#failing-state" id="id33">FAILING state</a></p>
<ul>
<li><p><a class="reference internal" href="#failing-assignment-nodes" id="id34">FAILING - Assignment nodes</a></p></li>
<li><p><a class="reference internal" href="#failing-command-nodes" id="id35">FAILING - Command nodes</a></p></li>
<li><p><a class="reference internal" href="#failing-update-nodes" id="id36">FAILING - Update nodes</a></p></li>
<li><p><a class="reference internal" href="#failing-nodelist-and-librarynodecall-nodes" id="id37">FAILING - NodeList and LibraryNodeCall nodes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#iteration-ended-state" id="id38">ITERATION_ENDED state</a></p></li>
<li><p><a class="reference internal" href="#finished-state" id="id39">FINISHED state</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="inactive-state">
<span id="id1"></span><h2><a class="toc-backref" href="#id22" role="doc-backlink">INACTIVE state</a><a class="headerlink" href="#inactive-state" title="Link to this heading">¶</a></h2>
<p>Nodes of all types in the INACTIVE nodes behave as follows.</p>
<figure class="align-default">
<img alt="../_images/Inactive-plexil4.png" src="../_images/Inactive-plexil4.png" />
</figure>
</section>
<section id="waiting-state">
<span id="id2"></span><h2><a class="toc-backref" href="#id23" role="doc-backlink">WAITING state</a><a class="headerlink" href="#waiting-state" title="Link to this heading">¶</a></h2>
<p>There is a small but significant difference in the transition
semantics for the WAITING state between Plexil 4 and Plexil 6.
In Plexil 4, the node’s Exit Condition is checked in this state, and
transitions the node to FINISHED if true.</p>
<figure class="align-default" id="id19">
<img alt="../_images/Waiting-plexil4.png" src="../_images/Waiting-plexil4.png" />
<figcaption>
<p><span class="caption-text">Waiting state for all node types in Plexil 4</span><a class="headerlink" href="#id19" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>In Plexil 6, the Exit Condition is <em>not</em> checked when the node is
waiting; this was actually the intended semantics when the Exit
Condition was introduced.</p>
<figure class="align-default" id="id20">
<img alt="../_images/Waiting-plexil6.png" src="../_images/Waiting-plexil6.png" />
<figcaption>
<p><span class="caption-text">Waiting state for all node types in Plexil 6</span><a class="headerlink" href="#id20" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="executing-state">
<span id="id3"></span><h2><a class="toc-backref" href="#id24" role="doc-backlink">EXECUTING state</a><a class="headerlink" href="#executing-state" title="Link to this heading">¶</a></h2>
<section id="executing-empty-nodes">
<span id="id4"></span><h3><a class="toc-backref" href="#id25" role="doc-backlink">EXECUTING - Empty nodes</a><a class="headerlink" href="#executing-empty-nodes" title="Link to this heading">¶</a></h3>
<p>Empty nodes transition directly to ITERATION_ENDED when their
ExitCondition becomes true, or to FINISHED if some ancestor’s becomes
true.</p>
<figure class="align-default">
<img alt="../_images/Executing_Empty_nodes_with_Exit_condition.png" src="../_images/Executing_Empty_nodes_with_Exit_condition.png" />
</figure>
</section>
<section id="executing-assignment-nodes">
<span id="id5"></span><h3><a class="toc-backref" href="#id26" role="doc-backlink">EXECUTING - Assignment nodes</a><a class="headerlink" href="#executing-assignment-nodes" title="Link to this heading">¶</a></h3>
<p>Assignment nodes transition to FAILING and restore the variable’s
previous value if their or some ancestor’s ExitCondition becomes true,
or their or some ancestor’s InvariantCondition becomes false. Otherwise
Assignment nodes transition to ITERATION_ENDED when the ExitCondition
becomes true; the PostCondition determines the outcome.</p>
<figure class="align-default">
<img alt="_static/images/Executing_Assignment_nodes_with_Exit_condition.png" src="_static/images/Executing_Assignment_nodes_with_Exit_condition.png" />
</figure>
</section>
<section id="executing-command-nodes">
<span id="id6"></span><h3><a class="toc-backref" href="#id27" role="doc-backlink">EXECUTING - Command nodes</a><a class="headerlink" href="#executing-command-nodes" title="Link to this heading">¶</a></h3>
<p>Command nodes transition to FINISHING in the nominal case. In the event
of an ExitCondition true or InvariantCondition false, they transition to
FAILING to abort the command.</p>
<p>Note that the supplied EndCondition is ORed with
<code class="docutils literal notranslate"><span class="pre">(command_handle</span> <span class="pre">==</span> <span class="pre">COMMAND_DENIED</span> <span class="pre">||</span> <span class="pre">command_handle</span> <span class="pre">==</span> <span class="pre">COMMAND_FAILED)</span></code>
. This allows the node to transition in the event the resource arbiter
rejects the command.</p>
<figure class="align-default">
<img alt="../_images/Executing_Command_with_Exit_and_FINISHING.png" src="../_images/Executing_Command_with_Exit_and_FINISHING.png" />
</figure>
</section>
<section id="executing-update-nodes">
<span id="id7"></span><h3><a class="toc-backref" href="#id28" role="doc-backlink">EXECUTING - Update nodes</a><a class="headerlink" href="#executing-update-nodes" title="Link to this heading">¶</a></h3>
<p>Update nodes behave similarly to Assignment nodes.</p>
<p>Note that the supplied EndCondition is ANDed with update-complete.</p>
<figure class="align-default">
<img alt="../_images/Executing_Update_with_Exit_condition.png" src="../_images/Executing_Update_with_Exit_condition.png" />
</figure>
</section>
<section id="executing-nodelist-and-librarynodecall-nodes">
<span id="id8"></span><h3><a class="toc-backref" href="#id29" role="doc-backlink">EXECUTING - NodeList and LibraryNodeCall nodes</a><a class="headerlink" href="#executing-nodelist-and-librarynodecall-nodes" title="Link to this heading">¶</a></h3>
<p>NodeList and LibraryNodeCall nodes transition to FAILING if their or
some ancestor’s ExitCondition becomes true.</p>
<p>Note that the default EndCondition for these node types is all children
in FINISHED state.</p>
<figure class="align-default">
<img alt="../_images/Executing_List_nodes_with_Exit_condition.png" src="../_images/Executing_List_nodes_with_Exit_condition.png" />
</figure>
</section>
</section>
<section id="finishing-state">
<span id="id9"></span><h2><a class="toc-backref" href="#id30" role="doc-backlink">FINISHING state</a><a class="headerlink" href="#finishing-state" title="Link to this heading">¶</a></h2>
<p>In general, the FINISHING state waits for completion of actions that may
take an indeterminate time. If the node fails while waiting for
completion, it transitions to FAILING.</p>
<section id="finishing-command-nodes">
<span id="id10"></span><h3><a class="toc-backref" href="#id31" role="doc-backlink">FINISHING - Command nodes</a><a class="headerlink" href="#finishing-command-nodes" title="Link to this heading">¶</a></h3>
<figure class="align-default">
<img alt="../_images/Finishing_Command_with_Exit_condition.png" src="../_images/Finishing_Command_with_Exit_condition.png" />
</figure>
</section>
<section id="finishing-nodelist-and-librarynodecall-nodes">
<span id="id11"></span><h3><a class="toc-backref" href="#id32" role="doc-backlink">FINISHING - NodeList and LibraryNodeCall nodes</a><a class="headerlink" href="#finishing-nodelist-and-librarynodecall-nodes" title="Link to this heading">¶</a></h3>
<figure class="align-default">
<img alt="../_images/Finishing_with_Exit_condition.png" src="../_images/Finishing_with_Exit_condition.png" />
</figure>
</section>
</section>
<section id="failing-state">
<span id="id12"></span><h2><a class="toc-backref" href="#id33" role="doc-backlink">FAILING state</a><a class="headerlink" href="#failing-state" title="Link to this heading">¶</a></h2>
<p>In general, FAILING is used to finish recovery from an abnormal
situation.</p>
<section id="failing-assignment-nodes">
<span id="id13"></span><h3><a class="toc-backref" href="#id34" role="doc-backlink">FAILING - Assignment nodes</a><a class="headerlink" href="#failing-assignment-nodes" title="Link to this heading">¶</a></h3>
<p>Assignment nodes simply transition to FINISHED or ITERATION_ENDED as
appropriate. The variable has already been restored to its previous
value on the transition into FAILING.</p>
<p>Note that the previous as-implemented behavior was to assign UNKNOWN in
the event of a failure. The entire team agrees that restoring the
previous value is preferable.</p>
<figure class="align-default">
<img alt="../_images/Failing-Assignment-plexil4.png" src="../_images/Failing-Assignment-plexil4.png" />
</figure>
</section>
<section id="failing-command-nodes">
<span id="id14"></span><h3><a class="toc-backref" href="#id35" role="doc-backlink">FAILING - Command nodes</a><a class="headerlink" href="#failing-command-nodes" title="Link to this heading">¶</a></h3>
<p>Command nodes abort the command, wait for the abort to complete, then
transition to FINISHED or ITERATION_ENDED as appropriate.</p>
<figure class="align-default">
<img alt="../_images/Failing-Command-plexil4.png" src="../_images/Failing-Command-plexil4.png" />
</figure>
</section>
<section id="failing-update-nodes">
<span id="id15"></span><h3><a class="toc-backref" href="#id36" role="doc-backlink">FAILING - Update nodes</a><a class="headerlink" href="#failing-update-nodes" title="Link to this heading">¶</a></h3>
<p>Update nodes simply wait for the update to complete, then transition to
FINISHED or ITERATION_ENDED as appropriate.</p>
<figure class="align-default">
<img alt="../_images/Failing-Update-plexil4.png" src="../_images/Failing-Update-plexil4.png" />
</figure>
</section>
<section id="failing-nodelist-and-librarynodecall-nodes">
<span id="id16"></span><h3><a class="toc-backref" href="#id37" role="doc-backlink">FAILING - NodeList and LibraryNodeCall nodes</a><a class="headerlink" href="#failing-nodelist-and-librarynodecall-nodes" title="Link to this heading">¶</a></h3>
<p>NodeList and LibraryNodeCall nodes wait for all children to achieve
either the WAITING or FINISHED state before transitioning to FINISHED or
ITERATION_ENDED.</p>
<figure class="align-default">
<img alt="../_images/Failing_List_node_with_Exit_condition.png" src="../_images/Failing_List_node_with_Exit_condition.png" />
</figure>
</section>
</section>
<section id="iteration-ended-state">
<span id="id17"></span><h2><a class="toc-backref" href="#id38" role="doc-backlink">ITERATION_ENDED state</a><a class="headerlink" href="#iteration-ended-state" title="Link to this heading">¶</a></h2>
<p>ITERATION_ENDED transitions directly to FINISHED if an ancestor’s
ExitCondition becomes true.</p>
<figure class="align-default">
<img alt="../_images/Iteration_Ended_with_Exit_condition.png" src="../_images/Iteration_Ended_with_Exit_condition.png" />
</figure>
</section>
<section id="finished-state">
<span id="id18"></span><h2><a class="toc-backref" href="#id39" role="doc-backlink">FINISHED state</a><a class="headerlink" href="#finished-state" title="Link to this heading">¶</a></h2>
<p>The Finished state is unchanged from the specification and previous
implemented behavior.</p>
<figure class="align-default">
<img alt="../_images/Finished_Revised.png" src="../_images/Finished_Revised.png" />
</figure>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../index.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home Page</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../GettingStarted/Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GettingStarted/Requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GettingStarted/Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GettingStarted/Tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GettingStarted/Licensing.html">Licensing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">PLEXIL Language</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILLanguage/PLEXILOverview.html">PLEXIL Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILLanguage/PLEXILReference.html">PLEXIL Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILLanguage/PLEXILSemantics.html">PLEXIL Semantics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILLanguage/ResourceModel.html">Resource Model</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">PLEXIL Execution</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILExecution/PLEXILExecutive.html">PLEXIL Executive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILExecution/PLEXILSimulators.html">PLEXIL Simulators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILExecution/PLEXILViewer.html">PLEXIL Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILExecution/Communication.html">Communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILExecution/Inter-ExecutiveCommunication.html">Inter-Executive Communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILExecution/UDPAdapter.html">UDP Adapter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILExecution/ResourceArbiter.html">ResourceArbiter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILExecution/PlanPersistenceandCheckpoints.html">Plan Persistence and Checkpoints</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">PLEXIL Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILTools/Plexilisp.html">Plexilisp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILTools/PLEXILChecker.html">PLEXIL Checker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PLEXILTools/XMLSchemaEmacs.html">XML/Schema, Emacs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Interfacing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Interfacing/InterfacingOverview.html">Interfacing Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Interfacing/InterfaceConfigurationFile.html">Interface Configuration File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Interfacing/StandardLibraries.html">Standard Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Interfacing/TheApplicationFramework.html">The Application Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Interfacing/ImplementingCustomInterfaces.html">Implementing Custom Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Interfacing/ImplementingCustomApplications.html">Implementing Custom Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Interfacing/APIReference.html">API Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ReleaseNotes/PLEXIL4ReleaseNotes.html">PLEXIL-4 Release Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Node State Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="ExamplePlans.html">Example Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="RoboSim.html">RoboSim</a></li>
<li class="toctree-l1"><a class="reference internal" href="SimulatorNotes.html">SimulatorNotes</a></li>
<li class="toctree-l1"><a class="reference internal" href="References.html">References</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright (c) 2006-2023, Universities Space Research Association (USRA). All rights reserved.
    
  </div>
  
  </body>
</html>